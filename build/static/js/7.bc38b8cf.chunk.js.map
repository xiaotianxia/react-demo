{"version":3,"sources":["../avatar/index.jsx","pages/followers/components/Item.js","pages/followers/List.js","request/api.js","utils/util.js"],"names":["__rest","s","e","t","Object","i","p","Avatar","scale","mounted","isImgExist","childrenWidth","nodeWidth","onError","getPrefixCls","_a","customizePrefixCls","shape","size","src","srcSet","icon","className","alt","others","prefixCls","sizeCls","classNames","classString","sizeStyle","width","height","lineHeight","fontSize","children","type","transformString","childrenStyle","msTransform","WebkitTransform","transform","sizeChildrenStyle","ref","style","opacity","this","prevProps","props","React","Item","login","avatar_url","html_url","bordered","Meta","avatar","title","href","target","rel","Component","List","componentDidMount","getList","state","list","api","getFollowing","username","data","newList","JSON","parse","setState","concat","result","length","map","item","key","id","image","Empty","PRESENTED_IMAGE_SIMPLE","request","url","param","Promise","resolve","reject","context","fullUrl","replace","match","trim","fetch","then","r","text","res","catch","err","getRepos","getFollowers","getInfo"],"mappings":"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","file":"static/js/7.bc38b8cf.chunk.js","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Icon from '../icon';\nimport { ConfigConsumer } from '../config-provider';\nexport default class Avatar extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            scale: 1,\n            mounted: false,\n            isImgExist: true,\n        };\n        this.setScale = () => {\n            if (!this.avatarChildren || !this.avatarNode) {\n                return;\n            }\n            const childrenWidth = this.avatarChildren.offsetWidth; // offsetWidth avoid affecting be transform scale\n            const nodeWidth = this.avatarNode.offsetWidth;\n            // denominator is 0 is no meaning\n            if (childrenWidth === 0 ||\n                nodeWidth === 0 ||\n                (this.lastChildrenWidth === childrenWidth && this.lastNodeWidth === nodeWidth)) {\n                return;\n            }\n            this.lastChildrenWidth = childrenWidth;\n            this.lastNodeWidth = nodeWidth;\n            // add 4px gap for each side to get better performance\n            this.setState({\n                scale: nodeWidth - 8 < childrenWidth ? (nodeWidth - 8) / childrenWidth : 1,\n            });\n        };\n        this.handleImgLoadError = () => {\n            const { onError } = this.props;\n            const errorFlag = onError ? onError() : undefined;\n            if (errorFlag !== false) {\n                this.setState({ isImgExist: false });\n            }\n        };\n        this.renderAvatar = ({ getPrefixCls }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, shape, size, src, srcSet, icon, className, alt } = _a, others = __rest(_a, [\"prefixCls\", \"shape\", \"size\", \"src\", \"srcSet\", \"icon\", \"className\", \"alt\"]);\n            const { isImgExist, scale, mounted } = this.state;\n            const prefixCls = getPrefixCls('avatar', customizePrefixCls);\n            const sizeCls = classNames({\n                [`${prefixCls}-lg`]: size === 'large',\n                [`${prefixCls}-sm`]: size === 'small',\n            });\n            const classString = classNames(prefixCls, className, sizeCls, {\n                [`${prefixCls}-${shape}`]: shape,\n                [`${prefixCls}-image`]: src && isImgExist,\n                [`${prefixCls}-icon`]: icon,\n            });\n            const sizeStyle = typeof size === 'number'\n                ? {\n                    width: size,\n                    height: size,\n                    lineHeight: `${size}px`,\n                    fontSize: icon ? size / 2 : 18,\n                }\n                : {};\n            let { children } = this.props;\n            if (src && isImgExist) {\n                children = <img src={src} srcSet={srcSet} onError={this.handleImgLoadError} alt={alt}/>;\n            }\n            else if (icon) {\n                if (typeof icon === 'string') {\n                    children = <Icon type={icon}/>;\n                }\n                else {\n                    children = icon;\n                }\n            }\n            else {\n                const childrenNode = this.avatarChildren;\n                if (childrenNode || scale !== 1) {\n                    const transformString = `scale(${scale}) translateX(-50%)`;\n                    const childrenStyle = {\n                        msTransform: transformString,\n                        WebkitTransform: transformString,\n                        transform: transformString,\n                    };\n                    const sizeChildrenStyle = typeof size === 'number'\n                        ? {\n                            lineHeight: `${size}px`,\n                        }\n                        : {};\n                    children = (<span className={`${prefixCls}-string`} ref={(node) => (this.avatarChildren = node)} style={Object.assign(Object.assign({}, sizeChildrenStyle), childrenStyle)}>\n            {children}\n          </span>);\n                }\n                else {\n                    const childrenStyle = {};\n                    if (!mounted) {\n                        childrenStyle.opacity = 0;\n                    }\n                    children = (<span className={`${prefixCls}-string`} style={{ opacity: 0 }} ref={(node) => (this.avatarChildren = node)}>\n            {children}\n          </span>);\n                }\n            }\n            return (<span {...others} style={Object.assign(Object.assign({}, sizeStyle), others.style)} className={classString} ref={(node) => (this.avatarNode = node)}>\n        {children}\n      </span>);\n        };\n    }\n    componentDidMount() {\n        this.setScale();\n        this.setState({ mounted: true });\n    }\n    componentDidUpdate(prevProps) {\n        this.setScale();\n        if (prevProps.src !== this.props.src) {\n            this.setState({ isImgExist: true, scale: 1 });\n        }\n    }\n    render() {\n        return <ConfigConsumer>{this.renderAvatar}</ConfigConsumer>;\n    }\n}\nAvatar.defaultProps = {\n    shape: 'circle',\n    size: 'default',\n};\n","import React from 'react';\nimport {\n    Card,\n    Avatar\n} from 'antd';\n\nexport default class Item extends React.Component {\n    render() {\n        const {\n            login,\n            avatar_url,\n            html_url\n        } = this.props;\n        return (\n            <li className=\"item\">\n                <Card bordered={false}>\n                    <Card.Meta\n                        avatar={\n                            <Avatar src={avatar_url} />\n                        }\n                        title={login}\n                    />\n                    <p className=\"description\"><a href={html_url} target=\"_blank\" rel=\"noopener noreferrer\">visit</a></p>\n                </Card>\n            </li>\n        )\n    }\n}\n","\nimport React from 'react';\nimport Item from './components/Item';\nimport { Empty } from 'antd';\nimport api from '../../request/api';\nimport '../../style/pages/common.scss';\n\nexport default class List extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: []\n        };\n    }\n\n    componentDidMount = () => {\n        this.getList();\n    }\n\n    async getList() {\n        const data = await api.getFollowing({ username: 'xiaotianxia' });\n        const newList = JSON.parse(data) || [];\n        this.setState({\n            list: this.state.list.concat(newList)\n        });\n    }\n\n    render() {\n        const { list } = this.state;\n        let result = null;\n        if (list.length) {\n            result = <ul className=\"followers-list\">\n                {list.map(item => (\n                    <Item key={item.id} {...item}></Item>\n                ))}\n            </ul>;\n        } else {\n            result = <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />;\n        }\n        return (\n            <div className=\"repos\">\n                {result}\n            </div>\n        )\n    }\n}\n","import { renderTpl } from '../utils/util';\n\nconst HOST = 'https://api.github.com';\n\nfunction request(url, param) {\n    return new Promise((resolve, reject) => {\n        const fullUrl = renderTpl(HOST + url, param);\n        fetch(fullUrl + '?access_token=b5b06dd6c09f58cfa7dd25b0a09f3808c405467b').then(r => r.text().then(res => {\n            resolve(JSON.parse(res));\n        })).catch(err => {\n            reject(err);\n        });\n    });\n}\n\nexport default {\n    getRepos(param) {\n        return request('/users/{{username}}/repos', param)\n    },\n\n    getFollowing(param) {\n        return request('/users/{{username}}/following', param)\n    },\n\n    getFollowers(param) {\n        return request('/users/{{username}}/followers', param)\n    },\n\n    getInfo(param) {\n        return request('/users/{{username}}', param)\n    }\n};","export function renderTpl(template, context) {\n    return template.replace(/\\{\\{(.*?)\\}\\}/g, (match, key) => context[key.trim()]);\n}"],"sourceRoot":""}